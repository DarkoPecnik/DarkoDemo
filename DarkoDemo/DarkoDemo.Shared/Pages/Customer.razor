@attribute [Route(Routes.Admin.Customer)]

@inject CoreApiClient CoreApi

<PageTitle>Customer</PageTitle>

<Loader ShowIfNull="customer" />

@if (customer is not null)
{
    <MudText Typo="Typo.h4" Class="mb-4">@customer.Name</MudText>

    <MudCard Outlined="true">
        <MudCardContent>
            <MudGrid>
                <MudItem xs="12" sm="6" md="4">
                    <MudStack>
                        <Field Label="Name:">@customer.Name</Field>
                        <Field Label="Email:">@customer.Email</Field>
                        <Field Label="First Name:">@customer.FirstName</Field>
                        <Field Label="Last Name:">@customer.LastName</Field>
                        <Field Label="Date Created:">@customer.CreatedDate.ToLocalTime().ToString("g")</Field>
                        <Field Label="Date Modified:">@customer.ModifiedDate</Field>
                        <Field Label="Active:">@customer.Active.ToYesNo()</Field>
                    </MudStack>
                </MudItem>
            </MudGrid>
        </MudCardContent>
    </MudCard>

    <MudToolBar Gutters="false">
        <MudIconButton Variant="Variant.Filled"
                       DropShadow="false"
                       Color="Color.Primary"
                       Icon="@Icons.Material.Filled.ArrowBack"
                       Href="@Routes.Admin.Customers" />
    </MudToolBar>
}

@code {
    [Parameter]
    public Guid Id { get; set; }

    private DarkoDemo.Data.Customer? customer;

    protected override async Task OnInitializedAsync()
    {
        customer = await CoreApi.GetCustomer(Id);
    }
}
